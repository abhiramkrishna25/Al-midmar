<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Al Midmar — Visual Impact Makers</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* --- Custom Styles & Animations --- */
        body {
            font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="black" stroke="white" stroke-width="1.5"><path d="M12 19l7-7 3 3-7 7-3-3zM18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/></svg>'), auto;
        }
        
        a, button, .cursor-pointer, input, select, textarea {
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="black" stroke="white" stroke-width="1.5"><path d="M12 19l7-7 3 3-7 7-3-3zM18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/></svg>'), pointer;
        }

        /* Text Reveal Animation */
        @keyframes reveal-text {
            0% { transform: translateY(100%); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }
        .animate-reveal-text {
            animation: reveal-text 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards;
            opacity: 0;
        }
        
        /* Marquee Animation */
        @keyframes marquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }
        .animate-marquee {
            animation: marquee 20s linear infinite;
        }

        /* Slide Down Animation */
        @keyframes slide-down {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .animate-slide-down {
            animation: slide-down 0.8s ease-out forwards;
        }

        /* Bounce Animation */
        @keyframes bounce {
            0%, 100% { transform: translateY(-25%); animation-timing-function: cubic-bezier(0.8,0,1,1); }
            50% { transform: none; animation-timing-function: cubic-bezier(0,0,0.2,1); }
        }
        .animate-bounce {
            animation: bounce 1s infinite;
        }

        /* 3D Perspective Utility */
        .perspective-1000 {
            perspective: 1000px;
        }

        /* Utility for Parallax */
        .parallax-element {
            will-change: transform;
        }
    </style>
</head>
<body class="font-sans text-black bg-white selection:bg-red-600 selection:text-white overflow-x-hidden">

    <!-- NAVIGATION -->
    <nav id="navbar" class="fixed w-full z-50 top-0 pointer-events-none transition-colors duration-300 text-black">
        <!-- Progressive Blur Layer -->
        <div class="absolute inset-0 h-32 md:h-40 backdrop-blur-sm"
             style="mask-image: linear-gradient(to bottom, black 0%, transparent 100%); -webkit-mask-image: linear-gradient(to bottom, black 0%, transparent 100%);">
        </div>
        
        <!-- Content Layer -->
        <div id="nav-content" class="relative pointer-events-auto max-w-[1400px] mx-auto px-6 md:px-12 flex justify-between items-center py-6 md:py-8 transition-colors duration-500 text-black">
            <!-- Logo -->
            <div class="flex items-center gap-2 group cursor-pointer z-50">
                <div id="logo-box" class="w-8 h-8 rounded-sm flex items-center justify-center transition-all duration-500 group-hover:rotate-45 bg-black">
                    <span id="logo-text" class="font-bold text-lg text-white">A</span>
                </div>
                <div class="flex flex-col">
                    <h1 class="text-xl font-black tracking-tighter leading-none transition-colors duration-500">
                        AL MIDMAR
                    </h1>
                    <span class="text-[0.6rem] font-bold tracking-[0.2em] uppercase transition-colors duration-500">
                        Adv. Design
                    </span>
                </div>
            </div>

            <!-- Desktop Menu -->
            <div class="hidden md:flex items-center gap-12" id="desktop-menu">
                <!-- Rolling Link: Expertise -->
                <a href="#expertise" class="group relative h-5 overflow-hidden inline-block text-sm font-bold uppercase tracking-widest cursor-pointer">
                    <div class="flex flex-col transition-transform duration-500 ease-[cubic-bezier(0.76,0,0.24,1)] group-hover:-translate-y-1/2 h-[200%]">
                        <span class="h-1/2 flex items-center">Expertise</span>
                        <span class="h-1/2 flex items-center">Expertise</span>
                    </div>
                </a>
                <!-- Rolling Link: Work -->
                <a href="#work" class="group relative h-5 overflow-hidden inline-block text-sm font-bold uppercase tracking-widest cursor-pointer">
                    <div class="flex flex-col transition-transform duration-500 ease-[cubic-bezier(0.76,0,0.24,1)] group-hover:-translate-y-1/2 h-[200%]">
                        <span class="h-1/2 flex items-center">Work</span>
                        <span class="h-1/2 flex items-center">Work</span>
                    </div>
                </a>
                <!-- Rolling Link: Company -->
                <a href="#features" class="group relative h-5 overflow-hidden inline-block text-sm font-bold uppercase tracking-widest cursor-pointer">
                    <div class="flex flex-col transition-transform duration-500 ease-[cubic-bezier(0.76,0,0.24,1)] group-hover:-translate-y-1/2 h-[200%]">
                        <span class="h-1/2 flex items-center">Company</span>
                        <span class="h-1/2 flex items-center">Company</span>
                    </div>
                </a>
                <!-- Rolling Link: Contact -->
                <a href="#footer" class="group relative h-5 overflow-hidden inline-block text-sm font-bold uppercase tracking-widest cursor-pointer">
                    <div class="flex flex-col transition-transform duration-500 ease-[cubic-bezier(0.76,0,0.24,1)] group-hover:-translate-y-1/2 h-[200%]">
                        <span class="h-1/2 flex items-center">Contact</span>
                        <span class="h-1/2 flex items-center">Contact</span>
                    </div>
                </a>

                <a href="mailto:info@midmaradv.com" id="contact-btn" class="px-8 py-3 text-sm font-bold uppercase tracking-wider transition-colors duration-300 shadow-lg rounded-full bg-black text-white hover:bg-gray-800 flex items-center justify-center">
                    Contact Us
                </a>
            </div>

            <!-- Mobile Toggle -->
            <button id="mobile-toggle" class="md:hidden z-50 p-2 rounded-full backdrop-blur-sm transition-colors duration-300 bg-black/10 text-black">
                <i data-lucide="menu" id="menu-icon" class="w-7 h-7"></i>
            </button>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="fixed inset-0 bg-red-600 z-40 transform transition-transform duration-500 translate-x-full md:hidden pt-32 px-6 flex flex-col h-screen pointer-events-auto normal-case text-white">
            <div class="flex flex-col gap-8">
                <a href="#expertise" class="mobile-link text-5xl font-black uppercase tracking-tighter hover:text-black transition-colors">Expertise</a>
                <a href="#work" class="mobile-link text-5xl font-black uppercase tracking-tighter hover:text-black transition-colors">Work</a>
                <a href="#features" class="mobile-link text-5xl font-black uppercase tracking-tighter hover:text-black transition-colors">Company</a>
                <a href="#footer" class="mobile-link text-5xl font-black uppercase tracking-tighter hover:text-black transition-colors">Contact</a>
            </div>
            <div class="mt-auto mb-12 text-white/80">
                <p class="text-sm font-bold uppercase tracking-widest mb-2">Contact Us</p>
                <a href="#" class="text-xl phone-link hover:text-black transition-colors">+971 55 741 2771</a>
            </div>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <section id="hero" class="relative min-h-screen pt-32 pb-20 overflow-hidden bg-white flex flex-col justify-center">
        <!-- Grid Lines -->
        <div class="absolute inset-0 pointer-events-none z-0">
            <div class="absolute left-6 md:left-24 top-0 h-full w-px bg-gray-100"></div>
            <div class="absolute right-6 md:right-24 top-0 h-full w-px bg-gray-100"></div>
            <div class="absolute left-1/2 top-0 h-full w-px bg-gray-100 hidden md:block"></div>
        </div>

        <div class="max-w-[1400px] mx-auto px-6 md:px-12 w-full relative z-10">
            <div class="flex flex-col gap-2 mb-8 animate-slide-down">
                <span class="text-red-600 font-bold tracking-[0.2em] uppercase text-sm">
                    UAE • Since 2010
                </span>
                <div class="h-1 w-12 bg-black"></div>
            </div>

            <h1 class="text-[14vw] md:text-[12vw] leading-[0.85] font-black text-black tracking-tighter uppercase mix-blend-multiply mb-12 perspective-1000">
                <span class="block animate-reveal-text origin-bottom parallax-text" data-speed="0.2">
                    Visual
                </span>
                <span class="block text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-red-500 animate-reveal-text parallax-text" data-speed="0.1" style="animation-delay: 0.1s;">
                    Impact
                </span>
                <span class="block animate-reveal-text parallax-text" data-speed="0.05" style="animation-delay: 0.2s;">
                    Makers
                </span>
            </h1>

            <div class="flex flex-col md:flex-row items-start md:items-end justify-between gap-8 md:gap-12 border-t-2 border-black pt-8 relative z-20 bg-white/50 backdrop-blur-sm">
                <p class="max-w-xl text-lg md:text-2xl font-medium text-gray-800 leading-tight">
                    Al Midmar transforms brands into physical reality. We specialize in precision signage, large-scale printing, and immersive exhibition spaces.
                </p>
                
                <div class="flex gap-4">
                    <div class="w-10 h-10 md:w-12 md:h-12 rounded-full border border-gray-300 flex items-center justify-center animate-bounce">
                        <i data-lucide="chevron-down" class="text-red-600 w-6 h-6"></i>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Interactive Blob -->
        <div id="hero-blob" class="hidden md:block absolute top-1/4 right-[5%] w-[300px] h-[400px] bg-red-600 mix-blend-multiply opacity-10 blur-3xl rounded-full pointer-events-none transition-transform duration-100 ease-out"></div>
    </section>

    <!-- SERVICES SECTION -->
    <section id="expertise" class="bg-white pb-20 relative z-20">
        <div class="max-w-[1400px] mx-auto px-6 md:px-12 py-12 flex justify-between items-end">
            <div>
                <h2 class="text-black font-black text-3xl md:text-4xl uppercase tracking-tighter mb-2">Our Capabilities</h2>
                <div class="h-2 w-20 bg-red-600"></div>
            </div>
            <p class="hidden md:block text-right text-gray-500 font-medium">
                Comprehensive production <br/> in-house.
            </p>
        </div>

        <div class="border-b border-black/10" id="services-list">
            <!-- Services injected by JS to reduce duplication, or hardcoded below -->
            <!-- Hardcoded for this file to be truly single-file and static-readable -->
            
            <!-- Service 1 -->
            <div class="group relative border-t border-black/10 transition-all duration-500 hover:bg-red-600 hover:border-red-600 overflow-hidden active:bg-red-600">
                <div class="max-w-[1400px] mx-auto px-6 md:px-12 py-8 md:py-12 flex flex-col md:flex-row items-baseline md:items-center justify-between gap-4 md:gap-6 relative z-10">
                    <div class="flex items-baseline gap-4 md:gap-16 w-full md:w-1/2 transform transition-transform duration-500 group-hover:translate-x-4">
                        <span class="text-xs md:text-sm font-bold text-red-600 group-hover:text-white/80 transition-colors">01</span>
                        <h3 class="text-2xl md:text-5xl font-black uppercase tracking-tighter text-black group-hover:text-white transition-colors duration-300">Printing</h3>
                    </div>
                    <div class="flex items-center justify-between w-full md:w-1/2 md:pl-12 opacity-80 md:opacity-40 group-hover:opacity-100 transition-all duration-500 transform group-hover:translate-x-2 md:group-hover:-translate-x-4">
                        <p class="max-w-xs text-sm font-medium text-black group-hover:text-white leading-relaxed">High-resolution large format printing for indoors and outdoors.</p>
                        <div class="hidden md:flex w-12 h-12 items-center justify-center bg-gray-100 group-hover:bg-white text-black rounded-full transition-all transform group-hover:rotate-[-45deg] group-hover:scale-110 duration-300 shadow-xl">
                            <i data-lucide="arrow-right" class="w-5 h-5"></i>
                        </div>
                    </div>
                </div>
                <div class="absolute inset-0 bg-red-600 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-500 ease-in-out z-0"></div>
            </div>

            <!-- Service 2 -->
            <div class="group relative border-t border-black/10 transition-all duration-500 hover:bg-red-600 hover:border-red-600 overflow-hidden active:bg-red-600">
                <div class="max-w-[1400px] mx-auto px-6 md:px-12 py-8 md:py-12 flex flex-col md:flex-row items-baseline md:items-center justify-between gap-4 md:gap-6 relative z-10">
                    <div class="flex items-baseline gap-4 md:gap-16 w-full md:w-1/2 transform transition-transform duration-500 group-hover:translate-x-4">
                        <span class="text-xs md:text-sm font-bold text-red-600 group-hover:text-white/80 transition-colors">02</span>
                        <h3 class="text-2xl md:text-5xl font-black uppercase tracking-tighter text-black group-hover:text-white transition-colors duration-300">Signages</h3>
                    </div>
                    <div class="flex items-center justify-between w-full md:w-1/2 md:pl-12 opacity-80 md:opacity-40 group-hover:opacity-100 transition-all duration-500 transform group-hover:translate-x-2 md:group-hover:-translate-x-4">
                        <p class="max-w-xs text-sm font-medium text-black group-hover:text-white leading-relaxed">3D illuminated, acrylic, and metal signage solutions.</p>
                        <div class="hidden md:flex w-12 h-12 items-center justify-center bg-gray-100 group-hover:bg-white text-black rounded-full transition-all transform group-hover:rotate-[-45deg] group-hover:scale-110 duration-300 shadow-xl">
                            <i data-lucide="arrow-right" class="w-5 h-5"></i>
                        </div>
                    </div>
                </div>
                <div class="absolute inset-0 bg-red-600 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-500 ease-in-out z-0"></div>
            </div>

            <!-- Service 3 -->
            <div class="group relative border-t border-black/10 transition-all duration-500 hover:bg-red-600 hover:border-red-600 overflow-hidden active:bg-red-600">
                <div class="max-w-[1400px] mx-auto px-6 md:px-12 py-8 md:py-12 flex flex-col md:flex-row items-baseline md:items-center justify-between gap-4 md:gap-6 relative z-10">
                    <div class="flex items-baseline gap-4 md:gap-16 w-full md:w-1/2 transform transition-transform duration-500 group-hover:translate-x-4">
                        <span class="text-xs md:text-sm font-bold text-red-600 group-hover:text-white/80 transition-colors">03</span>
                        <h3 class="text-2xl md:text-5xl font-black uppercase tracking-tighter text-black group-hover:text-white transition-colors duration-300">Exhibitions</h3>
                    </div>
                    <div class="flex items-center justify-between w-full md:w-1/2 md:pl-12 opacity-80 md:opacity-40 group-hover:opacity-100 transition-all duration-500 transform group-hover:translate-x-2 md:group-hover:-translate-x-4">
                        <p class="max-w-xs text-sm font-medium text-black group-hover:text-white leading-relaxed">Complete stall design and fabrication for trade shows.</p>
                        <div class="hidden md:flex w-12 h-12 items-center justify-center bg-gray-100 group-hover:bg-white text-black rounded-full transition-all transform group-hover:rotate-[-45deg] group-hover:scale-110 duration-300 shadow-xl">
                            <i data-lucide="arrow-right" class="w-5 h-5"></i>
                        </div>
                    </div>
                </div>
                <div class="absolute inset-0 bg-red-600 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-500 ease-in-out z-0"></div>
            </div>

            <!-- Service 4 -->
            <div class="group relative border-t border-black/10 transition-all duration-500 hover:bg-red-600 hover:border-red-600 overflow-hidden active:bg-red-600">
                <div class="max-w-[1400px] mx-auto px-6 md:px-12 py-8 md:py-12 flex flex-col md:flex-row items-baseline md:items-center justify-between gap-4 md:gap-6 relative z-10">
                    <div class="flex items-baseline gap-4 md:gap-16 w-full md:w-1/2 transform transition-transform duration-500 group-hover:translate-x-4">
                        <span class="text-xs md:text-sm font-bold text-red-600 group-hover:text-white/80 transition-colors">04</span>
                        <h3 class="text-2xl md:text-5xl font-black uppercase tracking-tighter text-black group-hover:text-white transition-colors duration-300">Fabrication</h3>
                    </div>
                    <div class="flex items-center justify-between w-full md:w-1/2 md:pl-12 opacity-80 md:opacity-40 group-hover:opacity-100 transition-all duration-500 transform group-hover:translate-x-2 md:group-hover:-translate-x-4">
                        <p class="max-w-xs text-sm font-medium text-black group-hover:text-white leading-relaxed">Custom acrylic displays and laser-cut architectural elements.</p>
                        <div class="hidden md:flex w-12 h-12 items-center justify-center bg-gray-100 group-hover:bg-white text-black rounded-full transition-all transform group-hover:rotate-[-45deg] group-hover:scale-110 duration-300 shadow-xl">
                            <i data-lucide="arrow-right" class="w-5 h-5"></i>
                        </div>
                    </div>
                </div>
                <div class="absolute inset-0 bg-red-600 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-500 ease-in-out z-0"></div>
            </div>

            <!-- Service 5 -->
            <div class="group relative border-t border-black/10 transition-all duration-500 hover:bg-red-600 hover:border-red-600 overflow-hidden active:bg-red-600">
                <div class="max-w-[1400px] mx-auto px-6 md:px-12 py-8 md:py-12 flex flex-col md:flex-row items-baseline md:items-center justify-between gap-4 md:gap-6 relative z-10">
                    <div class="flex items-baseline gap-4 md:gap-16 w-full md:w-1/2 transform transition-transform duration-500 group-hover:translate-x-4">
                        <span class="text-xs md:text-sm font-bold text-red-600 group-hover:text-white/80 transition-colors">05</span>
                        <h3 class="text-2xl md:text-5xl font-black uppercase tracking-tighter text-black group-hover:text-white transition-colors duration-300">Interiors</h3>
                    </div>
                    <div class="flex items-center justify-between w-full md:w-1/2 md:pl-12 opacity-80 md:opacity-40 group-hover:opacity-100 transition-all duration-500 transform group-hover:translate-x-2 md:group-hover:-translate-x-4">
                        <p class="max-w-xs text-sm font-medium text-black group-hover:text-white leading-relaxed">Glass manifestation, wallpapers, and wall branding.</p>
                        <div class="hidden md:flex w-12 h-12 items-center justify-center bg-gray-100 group-hover:bg-white text-black rounded-full transition-all transform group-hover:rotate-[-45deg] group-hover:scale-110 duration-300 shadow-xl">
                            <i data-lucide="arrow-right" class="w-5 h-5"></i>
                        </div>
                    </div>
                </div>
                <div class="absolute inset-0 bg-red-600 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-500 ease-in-out z-0"></div>
            </div>

            <!-- Service 6 -->
            <div class="group relative border-t border-black/10 transition-all duration-500 hover:bg-red-600 hover:border-red-600 overflow-hidden active:bg-red-600">
                <div class="max-w-[1400px] mx-auto px-6 md:px-12 py-8 md:py-12 flex flex-col md:flex-row items-baseline md:items-center justify-between gap-4 md:gap-6 relative z-10">
                    <div class="flex items-baseline gap-4 md:gap-16 w-full md:w-1/2 transform transition-transform duration-500 group-hover:translate-x-4">
                        <span class="text-xs md:text-sm font-bold text-red-600 group-hover:text-white/80 transition-colors">06</span>
                        <h3 class="text-2xl md:text-5xl font-black uppercase tracking-tighter text-black group-hover:text-white transition-colors duration-300">Safety</h3>
                    </div>
                    <div class="flex items-center justify-between w-full md:w-1/2 md:pl-12 opacity-80 md:opacity-40 group-hover:opacity-100 transition-all duration-500 transform group-hover:translate-x-2 md:group-hover:-translate-x-4">
                        <p class="max-w-xs text-sm font-medium text-black group-hover:text-white leading-relaxed">Standardized safety signage and wayfinding systems.</p>
                        <div class="hidden md:flex w-12 h-12 items-center justify-center bg-gray-100 group-hover:bg-white text-black rounded-full transition-all transform group-hover:rotate-[-45deg] group-hover:scale-110 duration-300 shadow-xl">
                            <i data-lucide="arrow-right" class="w-5 h-5"></i>
                        </div>
                    </div>
                </div>
                <div class="absolute inset-0 bg-red-600 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-500 ease-in-out z-0"></div>
            </div>
        </div>
    </section>

    <!-- CLIENT STRIP -->
    <section class="relative w-full py-32 bg-white overflow-hidden z-30"> 
       <div class="absolute inset-0 flex items-center justify-center">
         <div class="w-full bg-red-600 shadow-xl py-4 transform -rotate-2 scale-110 border-y-2 border-black">
           <div class="flex overflow-hidden w-full">
              <div class="flex animate-marquee whitespace-nowrap" id="marquee-content">
                <!-- Javascript will populate this to ensure duplication for smooth loop -->
              </div>
           </div>
         </div>
       </div>
    </section>

    <!-- PROJECTS SECTION -->
    <section id="work" class="bg-black py-32 overflow-hidden relative min-h-[900px] flex flex-col justify-center">
        <!-- Background Ambience -->
        <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-red-900/10 to-transparent opacity-50"></div>

        <div class="max-w-[1400px] mx-auto px-6 md:px-12 mb-16 relative z-10">
            <h2 class="text-white font-black text-4xl md:text-6xl uppercase tracking-tighter mb-4">
                Selected <span class="text-red-600">Works</span>
            </h2>
            <p class="text-gray-400 max-w-md">
                A showcase of our most ambitious projects across the region.
            </p>
        </div>

        <!-- 3D Carousel Wrapper with Side Buttons -->
        <div class="relative w-full flex items-center justify-center gap-4 md:gap-12 z-20 px-4">
            
            <!-- Left Arrow Button -->
            <button id="prevBtn" class="hidden md:flex flex-shrink-0 items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-red-600 to-red-700 hover:from-red-500 hover:to-red-600 text-white shadow-2xl transition-all duration-300 hover:scale-125 hover:shadow-red-600/50 group active:scale-95">
                <svg class="w-8 h-8 group-hover:-translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path></svg>
            </button>

            <!-- 3D Carousel Container -->
            <div id="carousel-container" class="relative h-[500px] md:h-[600px] w-full max-w-[1000px] perspective-1000 flex items-center justify-center flex-grow">
                <!-- Items injected by JS -->
            </div>

            <!-- Right Arrow Button -->
            <button id="nextBtn" class="hidden md:flex flex-shrink-0 items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-red-600 to-red-700 hover:from-red-500 hover:to-red-600 text-white shadow-2xl transition-all duration-300 hover:scale-125 hover:shadow-red-600/50 group active:scale-95">
                <svg class="w-8 h-8 group-hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path></svg>
            </button>

            <!-- Mobile Buttons (Visible only on small screens) -->
            <div class="absolute -bottom-20 flex md:hidden gap-6">
                <button onclick="prevSlide()" class="flex items-center justify-center w-12 h-12 rounded-full bg-red-600 text-white shadow-lg active:scale-95">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path></svg>
                </button>
                <button onclick="nextSlide()" class="flex items-center justify-center w-12 h-12 rounded-full bg-red-600 text-white shadow-lg active:scale-95">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"></path></svg>
                </button>
            </div>

        </div>
    </section>

    <!-- FEATURE SECTION -->
    <section id="features" class="relative bg-black text-white py-20 md:py-32 overflow-hidden">
        <!-- Dynamic Background -->
        <div id="feature-bg" class="absolute inset-0 transition-all duration-700 ease-in-out opacity-20 filter blur-[60px]"></div>
        
        <!-- Noise Overlay -->
        <div class="absolute inset-0 opacity-30 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] pointer-events-none mix-blend-overlay"></div>
        
        <!-- Mouse Blob -->
        <div id="feature-blob" class="hidden md:block absolute w-[500px] h-[500px] bg-red-600 blur-[120px] rounded-full pointer-events-none mix-blend-screen transition-transform duration-100 ease-out z-0 opacity-40"></div>

        <div id="feature-container" class="max-w-[1400px] mx-auto px-6 md:px-12 relative z-10 grid lg:grid-cols-2 gap-12 lg:gap-20">
            <!-- Left Sticky Info -->
            <div class="lg:sticky lg:top-32 h-fit transition-all duration-1000 opacity-0 -translate-x-10" id="feature-info">
                <div class="inline-block px-4 py-1 border border-red-600 text-red-500 text-xs font-bold uppercase tracking-widest mb-6">
                    The Advantage
                </div>
                <h2 class="text-5xl md:text-6xl lg:text-8xl font-black uppercase tracking-tighter leading-[0.9] mb-8">
                    Why <br/>
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-600">
                        Us?
                    </span>
                </h2>
                <p class="text-gray-400 text-base md:text-lg max-w-md leading-relaxed mb-8">
                    We merge industrial capability with artistic vision. See what sets Al Midmar apart from the competition.
                </p>
                
                <div class="hidden lg:block p-8 border border-white/10 bg-white/5 backdrop-blur-sm rounded-sm">
                    <div class="text-red-600 mb-4" id="feature-icon-container">
                        <!-- Icon Injected Here -->
                    </div>
                    <p class="text-2xl font-bold italic text-white mb-2" id="feature-desc">
                        <!-- Desc Injected Here -->
                    </p>
                </div>
            </div>

            <!-- Right List -->
            <div class="flex flex-col gap-4 md:gap-6 transition-all duration-1000 delay-300 opacity-0 translate-y-20" id="feature-list">
                <!-- Features injected by JS -->
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer id="footer" class="bg-red-600 text-white pt-24 pb-12 relative z-10">
        <div class="max-w-[1400px] mx-auto px-6 md:px-12">
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-12 mb-20">
                <div class="space-y-6">
                    <h3 class="text-3xl font-black uppercase tracking-tighter">Al Midmar</h3>
                    <p class="text-white/80 max-w-xs font-medium">
                        Elevating brands through superior signage and fabrication solutions.
                    </p>
                </div>
                <div>
                    <h4 class="font-bold text-black uppercase tracking-widest mb-6 text-sm">Contact</h4>
                    <div class="space-y-4">
                        <div class="flex items-center gap-4">
                            <i data-lucide="phone" class="text-black w-5 h-5"></i>
                            <a href="#" class="phone-link hover:underline">+971 55 741 2771</a>
                        </div>
                        <div class="flex items-center gap-4">
                            <i data-lucide="mail" class="text-black w-5 h-5"></i>
                            <span>info@midmaradv.com</span>
                        </div>
                        <div class="flex items-center gap-4">
                            <i data-lucide="map-pin" class="text-black w-5 h-5"></i>
                            <span>Industrial Area 15, Sharjah, UAE</span>
                        </div>
                    </div>
                </div>
                <div>
                    <h4 class="font-bold text-black uppercase tracking-widest mb-6 text-sm">Services</h4>
                    <ul class="space-y-2 text-white/80 font-medium">
                        <li class="hover:text-black cursor-pointer transition-colors">Signage Fabrication</li>
                        <li class="hover:text-black cursor-pointer transition-colors">Large Format Printing</li>
                        <li class="hover:text-black cursor-pointer transition-colors">Exhibition Stands</li>
                        <li class="hover:text-black cursor-pointer transition-colors">Vehicle Branding</li>
                    </ul>
                </div>
                <div class="bg-black p-8 text-center md:text-left">
                    <h4 class="text-xl font-bold mb-2">Get a Quote</h4>
                    <p class="text-gray-400 text-sm mb-4">Fast turnaround times guaranteed.</p>
                    <a href="mailto:info@midmaradv.com" class="w-full bg-white text-black font-bold py-3 uppercase text-sm hover:bg-gray-200 transition-colors block text-center">
                        Contact Us
                    </a>
                </div>
            </div>
            <div class="border-t border-black/20 pt-8 flex flex-col md:flex-row justify-between items-center text-sm font-medium text-black/60">
                <p>© 2024 Al Midmar Adv Design. All Rights Reserved.</p>
                <div class="flex gap-6 mt-4 md:mt-0">
                    <a href="https://www.instagram.com/al.midmar/" target="_blank" class="hover:text-white">Instagram</a>
                    <a href="https://wa.me/971557412771" target="_blank" class="hover:text-white">Whatsapp</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- 1. Navbar Logic ---
        const navbar = document.getElementById('navbar');
        const navContent = document.getElementById('nav-content');
        const logoBox = document.getElementById('logo-box');
        const logoText = document.getElementById('logo-text');
        const contactBtn = document.getElementById('contact-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileToggle = document.getElementById('mobile-toggle');
        const menuIcon = document.getElementById('menu-icon');
        const mobileLinks = document.querySelectorAll('.mobile-link');

        function updateNavbar() {
            const navFocusPoint = window.scrollY + 80;
            const sections = document.querySelectorAll('section, footer');
            let currentSectionId = 'hero';

            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.offsetHeight;
                if (navFocusPoint >= sectionTop && navFocusPoint < sectionTop + sectionHeight) {
                    currentSectionId = section.getAttribute('id');
                }
            });

            const darkSections = ['work', 'features', 'footer'];
            const isDarkBg = darkSections.includes(currentSectionId);

            if (isDarkBg) {
                navContent.classList.remove('text-black');
                navContent.classList.add('text-white');
                logoBox.classList.remove('bg-black');
                logoBox.classList.add('bg-white');
                logoText.classList.remove('text-white');
                logoText.classList.add('text-black');
                contactBtn.classList.remove('bg-black', 'text-white', 'hover:bg-gray-800');
                contactBtn.classList.add('bg-white', 'text-black', 'hover:bg-gray-200');
                mobileToggle.classList.remove('bg-black/10', 'text-black');
                mobileToggle.classList.add('bg-white/20', 'text-white');
            } else {
                navContent.classList.add('text-black');
                navContent.classList.remove('text-white');
                logoBox.classList.add('bg-black');
                logoBox.classList.remove('bg-white');
                logoText.classList.add('text-white');
                logoText.classList.remove('text-black');
                contactBtn.classList.add('bg-black', 'text-white', 'hover:bg-gray-800');
                contactBtn.classList.remove('bg-white', 'text-black', 'hover:bg-gray-200');
                mobileToggle.classList.add('bg-black/10', 'text-black');
                mobileToggle.classList.remove('bg-white/20', 'text-white');
            }
        }

        window.addEventListener('scroll', updateNavbar);
        updateNavbar(); // Initial check

        // Mobile Menu Toggle
        let isMenuOpen = false;
        mobileToggle.addEventListener('click', () => {
            isMenuOpen = !isMenuOpen;
            if (isMenuOpen) {
                mobileMenu.classList.remove('translate-x-full');
                mobileMenu.classList.add('translate-x-0');
                // Change icon to X
                menuIcon.setAttribute('data-lucide', 'x');
            } else {
                mobileMenu.classList.add('translate-x-full');
                mobileMenu.classList.remove('translate-x-0');
                // Change icon to Menu
                menuIcon.setAttribute('data-lucide', 'menu');
            }
            lucide.createIcons();
        });

        mobileLinks.forEach(link => {
            link.addEventListener('click', () => {
                isMenuOpen = false;
                mobileMenu.classList.add('translate-x-full');
                mobileMenu.classList.remove('translate-x-0');
                menuIcon.setAttribute('data-lucide', 'menu');
                lucide.createIcons();
            });
        });

        // --- 2. Parallax & Hero Logic ---
        const parallaxTexts = document.querySelectorAll('.parallax-text');
        const heroBlob = document.getElementById('hero-blob');

        window.addEventListener('scroll', () => {
            if (window.innerWidth >= 768) {
                const scrolled = window.scrollY;
                parallaxTexts.forEach(text => {
                    const speed = parseFloat(text.getAttribute('data-speed'));
                    text.style.transform = `translateY(${scrolled * speed}px)`;
                });
            }
        }, { passive: true });

        document.addEventListener('mousemove', (e) => {
            if (window.matchMedia("(hover: hover)").matches) {
                const x = (e.clientX / window.innerWidth) * 2 - 1;
                const y = (e.clientY / window.innerHeight) * 2 - 1;
                if(heroBlob) {
                    heroBlob.style.transform = `translate(${x * 50}px, ${y * 50}px)`;
                }
            }
        });

        // --- 3. Client Marquee ---
        const clients = ["Emaar", "Damac", "Dubai Airports", "RTA", "Expo 2020", "Adidas", "Nike", "Etisalat", "Du", "Emirates NBD", "FAB", "ADNOC", "DEWA", "Nakheel"];
        const marqueeContent = document.getElementById('marquee-content');
        
        // Generate marquee content 4 times for smooth looping
        let marqueeHTML = '';
        for(let i=0; i<4; i++) {
            let chunk = `<div class="flex items-center mx-4">`;
            clients.forEach(client => {
                chunk += `
                    <span class="text-2xl md:text-4xl font-black text-white uppercase tracking-tighter mx-6 md:mx-12">${client}</span>
                    <i data-lucide="star" class="text-black fill-current w-4 h-4 md:w-6 md:h-6"></i>
                `;
            });
            chunk += `</div>`;
            marqueeHTML += chunk;
        }
        marqueeContent.innerHTML = marqueeHTML;

        // --- 4. Projects Carousel ---
        const projects = [
            { name: "EXPO Pavilion", category: "Exhibition", rating: "9.8", color: "#1a1a1a" },
            { name: "Emaar Showroom", category: "Interior", rating: "9.5", color: "#333333" },
            { name: "Adidas Flagship", category: "Retail", rating: "9.9", color: "#4d4d4d" },
            { name: "Dubai Mall", category: "Signage", rating: "9.7", color: "#666666" },
            { name: "Museum of Future", category: "Fabrication", rating: "10.0", color: "#808080" },
            { name: "City Walk", category: "Outdoor", rating: "9.4", color: "#999999" },
            { name: "RTA Metro", category: "Wayfinding", rating: "9.6", color: "#2d2d2d" },
        ];

        let activeProjectIndex = 0;
        let autoPlay = true;
        let isPaused = false;
        let carouselInitialized = false; // Add initialization flag
        const carouselContainer = document.getElementById('carousel-container');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');

        function renderCarousel() {
            const total = projects.length;

            // 1. Initialization: Create cards only once
            if (!carouselInitialized) {
                carouselContainer.innerHTML = ''; // Clear container
                projects.forEach((project) => {
                    const card = document.createElement('div');
                    card.className = "project-card top-0 md:w-[400px] h-[550px] bg-gray-900 rounded-3xl overflow-hidden shadow-2xl border border-white/10 group cursor-pointer absolute left-0 right-0 margin-0 mx-auto w-full max-w-[350px]";
                    
                    // Persistent transition for smooth movement
                    card.style.transition = 'all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1)'; 
                    card.style.willChange = 'transform, opacity, filter';

                    card.innerHTML = `
                        <div class="absolute inset-0 bg-cover bg-center transition-transform duration-700 ease-out group-hover:scale-110" style="background: linear-gradient(to bottom, ${project.color}, #000);">
                            <div class="absolute inset-0 opacity-30 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] mix-blend-overlay"></div>
                            <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-black/40"></div>
                        </div>
                        <div class="absolute inset-0 p-8 flex flex-col justify-end">
                            <div class="transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300">
                                <p class="text-red-500 font-bold tracking-widest text-xs uppercase mb-2">${project.category}</p>
                                <h3 class="text-4xl font-black text-white leading-none tracking-tight mb-4 shadow-black drop-shadow-lg">${project.name}</h3>
                            </div>
                        </div>
                        <div class="absolute inset-0 bg-gradient-to-tr from-white/10 to-transparent opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity duration-500"></div>
                    `;
                    
                    carouselContainer.appendChild(card);
                });
                carouselInitialized = true;
                lucide.createIcons();
            }

            // 2. Update styles for all cards
            const cards = carouselContainer.querySelectorAll('.project-card');
            cards.forEach((card, idx) => {
                let offset = (idx - activeProjectIndex + total) % total;
                if (offset > total / 2) offset -= total;

                const isActive = offset === 0;
                const isVisible = Math.abs(offset) <= 2;

                const translateX = offset * 60; 
                const scale = isActive ? 1.05 : 0.85;
                const rotateY = isActive ? 0 : -offset * 15;
                const zIndex = 50 - Math.abs(offset) * 10;
                // Fade out distant cards completely
                const opacity = isVisible ? (isActive ? 1 : Math.max(0.3, 1 - Math.abs(offset) * 0.3)) : 0;
                const blur = isActive ? 0 : Math.abs(offset) * 2;
                const pointerEvents = isActive ? 'auto' : 'none';

                // Apply dynamic styles
                card.style.transform = `translateX(${translateX}%) scale(${scale}) perspective(1000px) rotateY(${rotateY}deg)`;
                card.style.zIndex = zIndex;
                card.style.opacity = opacity;
                card.style.filter = `blur(${blur}px)`;
                card.style.pointerEvents = pointerEvents;
            });
        }

        const nextSlide = () => {
            activeProjectIndex = (activeProjectIndex + 1) % projects.length;
            renderCarousel();
        };

        const prevSlide = () => {
            activeProjectIndex = (activeProjectIndex - 1 + projects.length) % projects.length;
            renderCarousel();
        };

        if(prevBtn) prevBtn.addEventListener('click', prevSlide);
        if(nextBtn) nextBtn.addEventListener('click', nextSlide);

        carouselContainer.addEventListener('mouseenter', () => isPaused = true);
        carouselContainer.addEventListener('mouseleave', () => isPaused = false);

        setInterval(() => {
            if (autoPlay && !isPaused) nextSlide();
        }, 4000);

        renderCarousel(); // Initial render

        // --- 5. Features Section ---
        const features = [
            { id: 0, title: "Precision", desc: "Laser-guided cutting and CNC fabrication accurate to the micron.", icon: 'award', bg: "radial-gradient(circle at center, #DC2626 0%, transparent 70%)", bgSize: "cover" },
            { id: 1, title: "Speed", desc: "24/7 in-house production shifts ensuring the fastest turnaround.", icon: 'clock', bg: "conic-gradient(from 0deg at 50% 50%, #DC2626 0deg, black 360deg)", bgSize: "cover" },
            { id: 2, title: "Impact", desc: "Premium imported materials tested for high-durability and visual pop.", icon: 'zap', bg: "repeating-linear-gradient(45deg, #222 0px, #222 10px, #DC2626 10px, #DC2626 20px)", bgSize: "40px 40px" }
        ];

        let activeFeatureIndex = 0;
        const featureBg = document.getElementById('feature-bg');
        const featureList = document.getElementById('feature-list');
        const featureIconContainer = document.getElementById('feature-icon-container');
        const featureDesc = document.getElementById('feature-desc');
        const featureInfo = document.getElementById('feature-info');
        const featureBlob = document.getElementById('feature-blob');
        const featureSection = document.getElementById('features');

        // Intersection Observer for animation on scroll
        const featureObserver = new IntersectionObserver(([entry]) => {
            if (entry.isIntersecting) {
                featureInfo.classList.remove('opacity-0', '-translate-x-10');
                featureInfo.classList.add('opacity-100', 'translate-x-0');
                featureList.classList.remove('opacity-0', 'translate-y-20');
                featureList.classList.add('opacity-100', 'translate-y-0');
            }
        }, { threshold: 0.2 });
        featureObserver.observe(featureSection);

        function renderFeatures() {
            featureList.innerHTML = '';
            features.forEach((item, idx) => {
                const isActive = activeFeatureIndex === idx;
                const div = document.createElement('div');
                div.className = `group relative p-6 md:p-10 border border-white/10 transition-all duration-500 hover:border-red-600/50 bg-black/40 backdrop-blur-md overflow-hidden ${isActive ? 'translate-x-0 md:translate-x-4 bg-white/5 border-red-600/30' : ''}`;
                div.onclick = () => setActiveFeature(idx);
                div.onmouseenter = () => setActiveFeature(idx);

                div.innerHTML = `
                    <div class="relative z-10 flex justify-between items-center">
                        <div>
                            <div class="text-xs font-bold text-red-600 mb-2 uppercase tracking-widest">0${idx + 1}</div>
                            <h3 class="text-3xl md:text-5xl font-black uppercase transition-colors duration-300 ${isActive ? 'text-white' : 'text-gray-600'}">
                                ${item.title}
                            </h3>
                        </div>
                        <i data-lucide="arrow-right" class="text-red-600 transform transition-transform duration-500 w-6 h-6 ${isActive ? 'rotate-0 opacity-100' : '-rotate-45 opacity-0'}"></i>
                    </div>
                    <p class="mt-4 text-gray-400 text-sm md:text-base lg:hidden ${isActive ? 'block' : 'hidden'}">
                        ${item.desc}
                    </p>
                    <div class="absolute bottom-0 left-0 h-1 bg-red-600 transition-all duration-700 ease-out" style="width: ${isActive ? '100%' : '0%'}"></div>
                    <div class="absolute inset-0 bg-red-600/5 transform scale-x-0 group-hover:scale-x-100 origin-left transition-transform duration-500 ease-out pointer-events-none"></div>
                `;
                featureList.appendChild(div);
            });
            lucide.createIcons();
        }

        function setActiveFeature(index) {
            activeFeatureIndex = index;
            renderFeatures();
            updateFeatureVisuals();
        }

        function updateFeatureVisuals() {
            const current = features[activeFeatureIndex];
            featureBg.style.backgroundImage = current.bg;
            featureBg.style.backgroundSize = current.bgSize;
            
            // Update left panel info
            featureIconContainer.innerHTML = `<i data-lucide="${current.icon}" class="w-10 h-10"></i>`;
            featureDesc.textContent = `"${current.desc}"`;
            lucide.createIcons();
        }

        // Feature blob movement
        featureSection.addEventListener('mousemove', (e) => {
            const rect = featureSection.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            featureBlob.style.transform = `translate(${x - 250}px, ${y - 250}px)`;
        });

        // Initialize Features
        renderFeatures();
        updateFeatureVisuals();

        // Initialize all icons on load
        lucide.createIcons();

        // --- 6. Dynamic Phone Links ---
        function updatePhoneLinks() {
            const isMobile = window.matchMedia("(max-width: 768px)").matches;
            const phoneLinks = document.querySelectorAll('.phone-link');
            const phoneNumber = "971557412771"; // Number without spaces or +

            phoneLinks.forEach(link => {
                if (isMobile) {
                    // Mobile: Trigger Phone Call
                    link.href = `tel:+${phoneNumber}`;
                    link.removeAttribute('target');
                } else {
                    // Desktop/Web: Redirect to WhatsApp
                    link.href = `https://wa.me/${phoneNumber}`;
                    link.target = "_blank";
                }
            });
        }

        // Run on load and resize
        updatePhoneLinks();
        window.addEventListener('resize', updatePhoneLinks);

    </script>
</body>
</html>
